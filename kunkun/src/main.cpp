#include <Arduino.h>
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
//kunkun出来只有一半
#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_ADDR 0x3C // I2C地址（通常为0x3C或0x3D）

// 初始化OLED对象
Adafruit_SSD1306 oled(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire);

// 取模后的图片数据（示例）
const uint8_t bitmap[] PROGMEM = {
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x98,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x01,0xF0,0x00,0x00,0x40,0x00,0x00,0x01,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x06,0x18,0x00,0x00,0x40,0x00,0x00,0x07,0x04,0x00,0x00,0x00
,0x00,0x02,0x03,0xC0,0x02,0x0C,0x00,0x01,0xF0,0x00,0x00,0x0C,0x04,0x00,0x00,0x00
,0x00,0x02,0x3E,0x00,0x02,0x04,0x00,0x03,0x40,0x00,0x00,0x38,0x04,0x00,0x00,0x00
,0x03,0x02,0x20,0x00,0x02,0x0C,0x00,0x00,0x40,0x00,0x00,0x60,0x0C,0x00,0x00,0x00
,0x01,0x82,0x20,0x00,0x02,0x08,0x00,0x00,0xC0,0x00,0x00,0x80,0x18,0x00,0x00,0x00
,0x00,0x82,0x20,0x00,0x02,0x18,0x00,0x03,0xFF,0x00,0x00,0xFF,0x3F,0xC0,0x00,0x00
,0x00,0x03,0xE0,0xF0,0x02,0xF8,0x00,0xFF,0x18,0x00,0x00,0x81,0x00,0x40,0x00,0x00
,0x00,0x1F,0x3F,0x80,0x03,0xCC,0x00,0x03,0x0E,0x00,0x00,0x81,0x00,0x40,0x00,0x00
,0x0E,0x12,0x31,0x80,0x06,0x06,0x00,0x07,0x07,0xE0,0x00,0x81,0x10,0x40,0x00,0x00
,0x03,0x02,0x10,0x80,0x04,0x03,0x00,0x0D,0x04,0x00,0x00,0xBD,0x18,0x40,0x00,0x00
,0x00,0x02,0xD0,0x80,0x04,0x01,0x00,0x19,0x04,0x00,0x00,0x83,0x0C,0x40,0x00,0x00
,0x00,0x1F,0x90,0x80,0x04,0x01,0x00,0x31,0x84,0x00,0x00,0x82,0x06,0x40,0x00,0x00
,0x00,0x32,0x10,0x80,0x04,0x03,0x00,0x60,0x84,0x00,0x00,0x82,0x00,0x40,0x00,0x00
,0x00,0x02,0x30,0x80,0x04,0x02,0x00,0xC0,0x84,0x00,0x00,0x82,0x00,0x40,0x00,0x00
,0x00,0x02,0x30,0x80,0x0C,0x06,0x00,0x00,0x84,0x00,0x00,0xFE,0x00,0x40,0x00,0x00
,0x01,0x8E,0x00,0x80,0x04,0x3C,0x00,0x00,0x84,0x00,0x00,0x02,0x0C,0x40,0x00,0x00
,0x0F,0x04,0x00,0x80,0x07,0xE0,0x00,0x01,0x84,0x00,0x00,0x06,0x07,0x40,0x00,0x00
,0x00,0x00,0x00,0x80,0x06,0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x01,0xC0,0x00,0x00
,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x00,0x00,0x3F,0xC0,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x03,0x01,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x3F,0x01,0x00,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x06,0x03,0x18,0x00,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x04,0x06,0x38,0x00,0x00,0x0C,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x0C,0x07,0xF0,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x0C,0x00,0xC8,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x07,0xE1,0x88,0x00,0x1F,0xEC,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x01,0xFE,0x03,0x38,0x00,0x00,0x3F,0xFF,0xC0,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x02,0x0F,0xF0,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x02,0x00,0xE0,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x02,0x01,0x9C,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x62,0x07,0x07,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x22,0x0C,0x01,0x80,0x01,0x82,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x32,0x00,0x00,0xC0,0x00,0xE2,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x14,0x00,0x00,0x00,0x00,0x32,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x1C,0x00,0x00,0x00,0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x0C,0x00,0x00,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00/// 替换为实际数据
  // ... 其他数据
};

void setup() {
  Serial.begin(115200);
  Wire.begin(21, 22); // 初始化I2C，指定SDA=GPIO21, SCL=GPIO22

  // 初始化OLED
  if (!oled.begin(SSD1306_SWITCHCAPVCC, OLED_ADDR)) {
    Serial.println("OLED初始化失败！");
    while (1);
  }

  oled.clearDisplay(); // 清屏
  oled.drawBitmap(0, 0, bitmap, SCREEN_WIDTH, SCREEN_HEIGHT, SSD1306_WHITE); // 显示图片
  oled.display(); // 刷新屏幕
}

void loop() {
  // 无需循环操作
}